<link rel="import" href="../components/polymer/polymer.html">
<link rel="import" href="content-data.html">
<link rel="import" href="../components/core-menu/core-menu.html">
<link rel="import" href="../components/paper-item/paper-item.html">


<polymer-element name="item-nav"> <!-- on-click="{{tapped}}"-->
  <template>
    <style>
      /*core-menu{
        margin:0;
        margin-left:30px;
      }*/
      a.core-selected {
        color: #000;
        font-size: 10px;

      }
      polyfill-next-selector { content: '.core-selected > paper-item'; }
      ::content > paper-item {
        border-left: 3px solid rgb(243,99,104);
        opacity: 0.7;
      }
      .button-content{
        font-size: 12px;
      }
      .active{

      }
    </style>
    <content-data id="contents" posts="{{posts}}"></content-data>

      <core-menu selected="0">
        <template repeat="{{post in posts}}">
        <a href="#{{post.uid}}">
        <paper-item noink on-click={{tapped}}>
          {{post.title}}
          <script>

            if({{post.uid}} == '1'){
              // var t = document.getElementById('thumbnail');
              // var selectedObj = document.getElementsByClassName('core-selected');
              // console.log(selectedObj);
              // console.log('{{post.thumbnail}}');
              var i = document.querySelector('img#thumbnail');
              i.src = '{{post.thumbnail}}';
              var t = document.querySelector('.menu-label');
              t.innerHTML = '{{post.title}}';
            }
          </script>
        </paper-item>
        </a>
      </template>
      </core-menu>
  </template>
  <script>
  Polymer({
    tapped: function(event, detail, sender){
      // var selectedItem = document.getElementsByClassName('core-selected');
      // console.log(sender.templateInstance.model.post);
      var i = document.querySelector('img#thumbnail');
      i.src = sender.templateInstance.model.post.thumbnail;
      var t = document.querySelector('.menu-label');
      t.innerHTML = sender.templateInstance.model.post.title;
      sender.templateInstance.model.post.selected = true;
      // console.log(sender.templateInstance);
    }
  });
  var s = document.querySelector('core-menu');
  // console.log(s);
  // document.addEventListener('WebComponentsReady', function() {
  //     var posts = document.querySelectorAll('paper-item');
  //     console.log(posts);
  // });
  </script>
</polymer-element>
